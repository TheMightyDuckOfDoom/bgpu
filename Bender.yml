# Copyright 2025 Tobias Senti
# Solderpad Hardware License, Version 0.51, see LICENSE for details.
# SPDX-License-Identifier: SHL-0.51

package:
    name: BGPU
    authors:
        - "Tobias Senti <git@tsenti.li>"

dependencies:
    common_cells: { git: "https://github.com/pulp-platform/common_cells", version: 1.37.0 }

sources:
    - rtl/compute_unit/dummy_reconvergence_stack.sv
    - rtl/compute_unit/fetcher.sv
    - rtl/compute_unit/dummy_instruction_cache.sv
    - rtl/compute_unit/decoder.sv
    
    - rtl/compute_unit/dispatcher/tag_queue.sv
    - rtl/compute_unit/dispatcher/reg_table.sv
    - rtl/compute_unit/dispatcher/wait_buffer.sv
    - rtl/compute_unit/dispatcher.sv
    - rtl/compute_unit/multi_warp_dispatcher.sv
    - rtl/compute_unit/register_file_bank.sv
    - rtl/compute_unit/operand_collector.sv

    - rtl/compute_unit.sv

    - target: verilator
      files:
          - test/rand_stream_mst.sv
          - test/rand_synch_holdable_driver.sv
          - test/rand_stream_slv.sv

          - test/tb_register_file_bank.sv
          - test/tb_operand_collector.sv
          - test/tb_compute_unit.sv
